<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<constant name="struts.objectFactory" value="spring" />
	<constant name="strtus.objectFactory.spring.autoWire" value="name" />
	<constant name="struts.devMode" value="false" />
	<constant name="struts.configuration.xml.reload" value="true" />
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	
	<package name="default" extends="json-default" namespace="/">
	</package>
	
	<package name="StrutsActions" extends="default">
	
		<result-types>
			<result-type name="json" class="org.apache.struts2.json.JSONResult" />
		</result-types>
		
		
		<action name="LoginIn" class="LoginInAction">
			<result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result>
			<result name="FAIL">/WEB-INF/jsp/login.jsp</result>
			<result name="LOGIN">/WEB-INF/jsp/login.jsp</result>
		</action>
		
		<action name="AdminIndex" class="AdminIndexAction">
		</action>
		
		<action name="Register" class="RegisterAction">
			<result name="SUCCESS">/WEB-INF/jsp/login.jsp</result>
			<result name="ERROR">/WEB-INF/jsp/error.jsp</result>
			<result name="REGISTER">/WEB-INF/jsp/reg.jsp</result>
		</action>
		
		<action name="UserLogin" class="UserLoginAction" method="login">
			<result type="json">
				<param name="result" />
			</result>
		</action>
		
		<action name="UserIndex" class="UserIndexAction">
			<result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result>
		</action>
		
		<action name="GetBalance" class="AccountManageAction" method="getUserBalance">
			<result type="json"/>
			<!--result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result-->
		</action>
		
		<action name="UserAccount" class="AccountManageAction" method="accountPage">
			<result name="ACCOUNT_PAGE">/WEB-INF/jsp/accountInfo.jsp</result>
		</action>
		
		<action name="AccountRecharge" class="AccountManageAction" method="rechargePage">
			<result name="RECHARGE_PAGE">/WEB-INF/jsp/recharge.jsp</result>
		</action>
		
		<action name="GetUserInfo" class="UserInfoAction" method="userInfo">
			<result type="json" />
			<!-- result type="redirect" name="SAVE_SUCCESS">/WEB-INF/jsp/admin.jsp</result-->
		</action>
		
		<action name="UserInfo" class="UserInfoAction" method="userInfoPage">
			<result name="USER_INFO">/WEB-INF/jsp/changeInfo.jsp</result>
		</action>
		
		<action name="SaveUserInfo" class="UserInfoAction" method="saveInfo">
			<result name="SAVE_SUCCESS" type="redirect-action">UserInfo.action</result>
		</action>
		
		<action name="UserPwd" class="UserPwdAction" method="changePwdPage">
			<result name="CHANGE_PWD_PAGE">/WEB-INF/jsp/changePwd.jsp</result>
		</action>
		
		<action name="SaveUserPwd" class="UserPwdAction" method="changePwd">
			<result name="SAVE_SUCCESS" type="redirect-action">UserPwd.action</result>
		</action>
		
		<action name="GetRecords" class="AccountRecordsAction" method="getRecord">
			<result type="json" />
		</action>
		
	</package>
	
</struts>    
