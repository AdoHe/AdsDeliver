<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<constant name="struts.objectFactory" value="spring" />
	<constant name="strtus.objectFactory.spring.autoWire" value="name" />
	<constant name="struts.devMode" value="false" />
	<constant name="struts.configuration.xml.reload" value="true" />
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	
	<package name="default" extends="json-default" namespace="/">
	</package>
	
	<package name="StrutsActions" extends="default">
	
		<result-types>
			<result-type name="json" class="org.apache.struts2.json.JSONResult" />
		</result-types>
		
		
		<action name="LoginIn" class="LoginInAction">
			<result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result>
			<result name="FAIL">/WEB-INF/jsp/login.jsp</result>
			<result name="LOGIN">/WEB-INF/jsp/login.jsp</result>
		</action>
		
		<action name="AdminIndex" class="AdminIndexAction">
		</action>
		
		<action name="Register" class="RegisterAction">
			<result name="SUCCESS">/WEB-INF/jsp/login.jsp</result>
			<result name="ERROR">/WEB-INF/jsp/error.jsp</result>
			<result name="REGISTER">/WEB-INF/jsp/reg.jsp</result>
		</action>
		
		<action name="UserLogin" class="UserLoginAction" method="login">
			<result type="json">
				<param name="result" />
			</result>
		</action>
		
		<action name="UserIndex" class="UserIndexAction">
			<result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result>
		</action>
		
		<action name="GetBalance" class="AccountManageAction" method="getUserBalance">
			<result type="json"/>
			<!--result name="SUCCESS">/WEB-INF/jsp/admin.jsp</result-->
		</action>
		
		<action name="UserAccount" class="AccountManageAction" method="accountPage">
			<result name="ACCOUNT_PAGE">/WEB-INF/jsp/accountInfo.jsp</result>
		</action>
		
		<action name="AccountRecharge" class="AccountManageAction" method="rechargePage">
			<result name="RECHARGE_PAGE">/WEB-INF/jsp/accountRecharge.jsp</result>
		</action>
		
		<action name="AccountRecord" class="AccountManageAction" method="recordPage">
			<result name="RECORD_PAGE">/WEB-INF/jsp/accountRecords.jsp</result>
		</action>
		
		<action name="GetUserInfo" class="UserInfoAction" method="userInfo">
			<result type="json" />
			<!-- result type="redirect" name="SAVE_SUCCESS">/WEB-INF/jsp/admin.jsp</result-->
		</action>
		
		<action name="UserInfo" class="UserInfoAction" method="userInfoPage">
			<result name="USER_INFO">/WEB-INF/jsp/changeInfo.jsp</result>
		</action>
		
		<action name="SaveUserInfo" class="UserInfoAction" method="saveInfo">
			<result name="SAVE_SUCCESS" type="redirectAction">
				<param name="actionName">UserInfo</param>
			</result>
		</action>
		
		<action name="UserPwd" class="UserPwdAction" method="changePwdPage">
			<result name="CHANGE_PWD_PAGE">/WEB-INF/jsp/changePwd.jsp</result>
		</action>
		
		<action name="SaveUserPwd" class="UserPwdAction" method="changePwd">
			<result name="SAVE_SUCCESS" type="redirectAction">
				<param name="actionName">UserPwd</param>
			</result>
		</action>
		
		<!--action name="GetRecords" class="AccountRecordsAction" method="firstTenRecords">
			<result type="json"/>
		</action-->
		
		<action name="GetPagedRecords" class="AccountRecordsAction" method="getPagedRecords">
			<result type="json">
				<param name="excludeProperties">
			    	records.*\.account
			  	</param>
	  		</result>
		</action>
		
		<action name="AdNew" class="AdsCreateAction" method="newAdPage">
			<result name="NEW_AD_PAGE">/WEB-INF/jsp/adNew.jsp</result>
		</action>
		
		<action name="CreateAd" class="AdsCreateAction" method="createAd">
			<result type="json"></result>
		</action>
		
		<action name="UploadImage" class="UploadImageAction">
			<result type="json">
				<param name="includeProperties">
					imageFileName,
					imageFilePath
				</param>
			</result>
		</action>
		
		<action name="GetPagedAdsForAll" class="AdsListAction" method="getPagedAdsForAll">
			<result type="json">
				<param name="excludeProperties">
			    	aAds.*\.adverinfo.advertisement
			  	</param>
			</result>
		</action>
		
		<action name="GetPagedAdsForActive" class="AdsListAction" method="getPagedAdsForActive">
			<result type="json">
			</result>
		</action>
		
		<action name="AdList" class="AdsListAction" method="adListPage">
			<result name="AD_LIST">/WEB-INF/jsp/adList.jsp</result>
		</action>
		
		<action name="AdminAdd" class="AdminAddAction" method="adminAddPage">
			<result name="ADD_ADMIN">/WEB-INF/admin/addAdmin.jsp</result>
		</action>
		
	</package>
	
</struts>    
